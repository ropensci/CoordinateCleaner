<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-gb">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automated Cleaning of Occurrence Records from Biological Collections • CoordinateCleaner</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Automated Cleaning of Occurrence Records from Biological Collections">
<meta property="og:description" content="Automated flagging of common spatial and temporal errors in biological and paleontological collection data, for the use in conservation, ecology and paleontology. Includes automated tests to easily flag (and exclude) records assigned to country or province centroid, the open ocean, the headquarters of the Global Biodiversity Information Facility, urban areas or the location of biodiversity institutions (museums, zoos, botanical gardens, universities). Furthermore identifies per species outlier coordinates, zero coordinates, identical latitude/longitude and invalid coordinates. Also implements an algorithm to identify data sets with a significant proportion of rounded coordinates. Especially suited for large data sets. The reference for the methodology is: Zizka et al. (2019) &lt;doi:10.1111/2041-210X.13152&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">CoordinateCleaner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Cleaning_GBIF_data_with_CoordinateCleaner.html">Cleaning GBIF data for the use in biogeography</a>
    </li>
    <li>
      <a href="articles/Cleaning_PBDB_fossils_with_CoordinateCleaner.html">Cleaning fossil data for the use in biogeography and palaeontology</a>
    </li>
    <li>
      <a href="articles/Comparison_other_software.html">Comparison of CoordinateCleaner to other tools</a>
    </li>
    <li>
      <a href="articles/Using_custom_gazetteers.html">Using customized gazetteers</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/CoordinateCleaner/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="coordinatecleaner-v30">CoordinateCleaner v3.0<a class="anchor" aria-label="anchor" href="#coordinatecleaner-v30"></a>
</h1></div>
<p><a href="https://cranlogs.r-pkg.org:443/badges/CoordinateCleaner" class="external-link"><img src="https://www.r-pkg.org/badges/version/CoordinateCleaner" alt="CRAN_Status_Badge"></a> <a href="https://cranlogs.r-pkg.org:443/badges/grand-total/CoordinateCleaner" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/CoordinateCleaner" alt="downloads"></a> <a href="https://cranlogs.r-pkg.org:443/badges/CoordinateCleaner" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/CoordinateCleaner" alt="rstudio mirror downloads"></a> <a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <a href="https://doi.org/10.5281/zenodo.2539408" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.2539408.svg" alt="DOI"></a> <a href="https://github.com/ropensci/software-review/issues/210" class="external-link"><img src="https://badges.ropensci.org/210_status.svg" alt="rOpenSci peer-review"></a></p>
<p><strong>CoordinateCleaner has been updated to version 3.0 on github and on CRAN to adapt to the retirement of sp and raster. The update may not be compatible with analysis-pipelines build with version 2.x</strong>*</p>
<p>Automated flagging of common spatial and temporal errors in biological and palaeontological collection data, for the use in conservation, ecology and palaeontology. Specifically includes tests for</p>
<ul>
<li>General coordinate validity</li>
<li>Country and province centroids</li>
<li>Capital coordinates</li>
<li>Coordinates of biodiversity institutions</li>
<li>Spatial outliers</li>
<li>Temporal outliers</li>
<li>Coordinate-country discordance</li>
<li>Duplicated coordinates per species</li>
<li>Assignment to the location of the GBIF headquarters</li>
<li>Urban areas</li>
<li>Seas</li>
<li>Plain zeros</li>
<li>Equal longitude and latitude</li>
<li>Rounded coordinates</li>
<li>DDMM to DD.DD coordinate conversion errors</li>
<li>Large temporal uncertainty (fossils)</li>
<li>Equal minimum and maximum ages (fossils)</li>
<li>Spatio-temporal outliers (fossils)</li>
</ul>
<p>CoordinateCleaner can be particularly useful to improve data quality when using data from GBIF (e.g. obtained with <a href="https://github.com/ropensci/rgbif" class="external-link">rgbif</a>) or the Paleobiology database (e.g. obtained with <a href="https://github.com/ropensci/paleobioDB" class="external-link">paleobioDB</a>) for historical biogeography (e.g. with <a href="https://CRAN.R-project.org/package=BioGeoBEARS" class="external-link">BioGeoBEARS</a> or <a href="https://CRAN.R-project.org/package=phytools" class="external-link">phytools</a>), automated conservation assessment (e.g. with <a href="https://github.com/azizka/speciesgeocodeR/wiki" class="external-link">speciesgeocodeR</a> or <a href="https://CRAN.R-project.org/package=ConR" class="external-link">conR</a>) or species distribution modelling (e.g. with <a href="https://CRAN.R-project.org/package=dismo" class="external-link">dismo</a> or <a href="https://CRAN.R-project.org/package=sdm" class="external-link">sdm</a>). See <a href="https://github.com/ropensci-archive/scrubr" class="external-link">scrubr</a> and <a href="https://github.com/ropensci/taxize" class="external-link">taxize</a> for complementary taxonomic cleaning or <a href="https://github.com/cran/biogeo" class="external-link">biogeo</a> for correcting spatial coordinate errors.</p>
<p>See <a href="https://github.com/ropensci/CoordinateCleaner/blob/master/NEWS.md" class="external-link">News</a> for update information.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<div class="section level2">
<h2 id="stable-from-cran">Stable from CRAN<a class="anchor" aria-label="anchor" href="#stable-from-cran"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"CoordinateCleaner"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropensci.github.io/CoordinateCleaner/" class="external-link">CoordinateCleaner</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="developmental-from-github">Developmental from GitHub<a class="anchor" aria-label="anchor" href="#developmental-from-github"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ropensci/CoordinateCleaner"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropensci.github.io/CoordinateCleaner/" class="external-link">CoordinateCleaner</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h1>
<p>A simple example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Simulate example data</span></span>
<span><span class="va">minages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">0</span>, <span class="fl">65</span><span class="op">)</span></span>
<span><span class="va">exmpl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span>, size <span class="op">=</span> <span class="fl">250</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>                    decimalLongitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">250</span>, min <span class="op">=</span> <span class="fl">42</span>, max <span class="op">=</span> <span class="fl">51</span><span class="op">)</span>,</span>
<span>                    decimalLatitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">250</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">26</span>, max <span class="op">=</span> <span class="op">-</span><span class="fl">11</span><span class="op">)</span>,</span>
<span>                    min_ma <span class="op">=</span> <span class="va">minages</span>,</span>
<span>                    max_ma <span class="op">=</span> <span class="va">minages</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">0.1</span>, <span class="fl">65</span><span class="op">)</span>,</span>
<span>                    dataset <span class="op">=</span> <span class="st">"clean"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run record-level tests</span></span>
<span><span class="va">rl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/clean_coordinates.html">clean_coordinates</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">exmpl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">rl</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rl</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dataset level </span></span>
<span><span class="va">dsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/clean_dataset.html">clean_dataset</a></span><span class="op">(</span><span class="va">exmpl</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># For fossils</span></span>
<span><span class="va">fl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/clean_fossils.html">clean_fossils</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">exmpl</span>,</span>
<span>                          taxon <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>                          lon <span class="op">=</span> <span class="st">"decimalLongitude"</span>, </span>
<span>                          lat <span class="op">=</span> <span class="st">"decimalLatitude"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fl</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Alternative example using the pipe</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="va">exmpl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/cc_val.html">cc_val</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/cc_cap.html">cc_cap</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/cd_ddmm.html">cd_ddmm</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/cf_range.html">cf_range</a></span><span class="op">(</span>lon <span class="op">=</span> <span class="st">"decimalLongitude"</span>, </span>
<span>           lat <span class="op">=</span> <span class="st">"decimalLatitude"</span>, </span>
<span>           taxon  <span class="op">=</span><span class="st">"species"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h1>
<p>Pipelines for cleaning data from the Global Biodiversity Information Facility (GBIF) and the Paleobiology Database (PaleobioDB) are available in <a href="https://ropensci.github.io/CoordinateCleaner/articles/" class="external-link">here</a>.</p>
</div>
<div class="section level1">
<h1 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h1>
<p>See the <a href="https://github.com/ropensci/CoordinateCleaner/blob/master/CONTRIBUTING.md" class="external-link">CONTRIBUTING</a> document.</p>
</div>
<div class="section level1">
<h1 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h1>
<p>Zizka A, Silvestro D, Andermann T, Azevedo J, Duarte Ritter C, Edler D, Farooq H, Herdean A, Ariza M, Scharn R, Svanteson S, Wengtrom N, Zizka V &amp; Antonelli A (2019) CoordinateCleaner: standardized cleaning of occurrence records from biological collection databases. Methods in Ecology and Evolution, 10(5):744-751, <a href="doi:10.1111/2041-210X.13152" class="uri">doi:10.1111/2041-210X.13152</a>, <a href="https://github.com/ropensci/CoordinateCleaner" class="external-link uri">https://github.com/ropensci/CoordinateCleaner</a></p>
<p><a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/public_images/ropensci_footer.png" alt="ropensci_footer"></a></p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=CoordinateCleaner" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/CoordinateCleaner/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/CoordinateCleaner/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CoordinateCleaner</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alexander Zizka <br><small class="roles"> Author, maintainer </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Alexander Zizka.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer>
</div>






  </body>
</html>
